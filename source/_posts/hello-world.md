title: Hello World
categories: [fun]
tags: Hexo
mathjax: true
date: 2014/01/29

---
> Welcome to my blog which is based on [Hexo](http://hexo.io/)! This is my very first post. Check [documentation](http://hexo.io/docs/) for more info. If you get any problems when using Hexo, you can find the answer in [trobuleshooting](http://hexo.io/docs/troubleshooting.html) or you can ask the author on [GitHub](https://github.com/hexojs/hexo/issues).

<!-- more -->

![](http://figures.qiniudn.com/8d5494eef01f3a29abe1f0589925bc315c607c7e.jpg)

## Install Nodejs

The best way to install Node.js is installing with nvm. Otherwise, there may be many problems. For example: 1. [cannot install hexo][noinstall]; 2. [cannot start hexo][nostart].

cURL:
``` bash
$ curl https://raw.github.com/creationix/nvm/master/install.sh | sh
```

Wget:
``` bash
$ wget -qO- https://raw.github.com/creationix/nvm/master/install.sh | sh
```

Once installed, restart the terminal and run the following command to install Node.js.
``` bash
$ nvm install 0.10
```

But even the above method have some problems for me, it cannot find nodejs, npm or hexo when restart the terminal. The best way is [download the source file of node and make it locally][noinstall] up to now.

## Install Hexo

Once all the requirements are installed, you can install Hexo with npm.
``` bash
$ npm install -g hexo
```

## Depoly to gitcafe

1. [Create `ssh`][cssh]
2. [Create gitcafe pages][cgpages]
3. [`npm install hexo-deployer-git --save`][deploygit]
4. hexo\_config.yml add：
```bash
deploy:
  type: git //not github
  repository: git@gitcafe.com:solojoker/solojoker.git
  branch: gitcafe-pages
```

## Quick Start

### Create a new post

``` bash
$ hexo new "My New Post"
```

More info: [Writing](http://hexo.io/docs/writing.html)

### Run server

``` bash
$ hexo server
```

More info: [Server](http://hexo.io/docs/server.html)

### Generate static files

``` bash
$ hexo generate
```

More info: [Generating](http://hexo.io/docs/generating.html)

### Deploy to remote sites

``` bash
$ hexo deploy
```

More info: [Deployment](http://hexo.io/docs/deployment.html)

Today I update the Mac OS, then `ssh -T git@gitcafe.com` is okay but `hexo deploy` comes up with
```
*** Please tell me who you are.

Run

  git config --global user.email "you@example.com"
  git config --global user.name "Your Name"

to set your account's default identity.
```
Then we should do what this message says.

## Change themes

Add the following lines to phasebeam.styl to make the theme 'blur':
``` bash
  canvas:nth-child(2)
    -webkit-filter blur(6px)
  canvas:nth-child(3)
    webkit-filter blur(2px)
```
Change the `margin` and fontsize of header in header.styl. Change phasebeam.js to [this one][newphase] to add an button to switch on off 'beam'.

Change the colors in phasebeam.js, [`createRadialGradient`][crgradient] is to generate the radial gradient effect from the first color to the second one which can be setted as `transparent`. Change the background and other colors to transparent in article.styl, archive.styl, syntax.styl (the background of blocked code). Also change some other colors to mix them together, for example, the ones in variable.styl. `rgba, opacity` may be the key words when I try to find the changes in styl files.

[Add Rss][addrss] may need something download. 如果沒有寫
```plugins:
- hexo-generator-feed
```
則可能出現：`Input is not proper UTF-8, indicate encoding !`的錯誤。然而這並不是其他人說的亂碼的情況，查了半天沒亂碼啊。

### Add about

`hexo new page "about"` then edit it in `source/about/index.md`. Afterall, in `themes/phase/_config.yml` add the following lines:

```
menu:
  About: /about
```
### Add title

[Add the title of the blog][btitle].

### Layout of post

[Change the default layout of post][dlpost]. [Close beam effect][cbeam] and add background picture in `\source\css\_base\layout.styl`. The picture is generated by MMA with the function `MatrixPlot`:
```
mat = RandomReal[{0.1, 0.15}, {40, 18}];
MatrixPlot[mat, ColorFunction -> "TemperatureMap",
 ColorFunctionScaling -> False, Frame -> False]
```
then blur the figure with [PS online][psonline]. Generally, one can find a background picture in the website [懒人图库][lazy].

Update: There is `Blur` in Mathematica to blur images. [Background Image Generator][bgenerate] is a very nice website. I like themes `Xv` and `Greyfloral` in there. `ImageReflect, ImageMultiply, ImageAdd` in Mathematica will help make the image periodic.

Update: Use the following codes to set the background static:
```
  background-repeat no-repeat
  background-attachment fixed
```
Update: change `background-image url('/imgs/noise10.jpg')` to `墨灰(117,138,153,0.81)` and change the fontsize to 15px.

### Change themes to [Next][nexttheme]

Next is a great theme with useful guide. Note that we need to turn mathjax on.

1. 修改`next/source/css/_custom/custom.styl`，将关于`post`图片的格式应用于全局，即去掉`.post-body`。

## Useful website

1. [Hexo usual problem][usualp]
2. [Hexo docs][hdocs]
3. [Hexo themes][hthemes]
4. [Image bed][imagebed]
5. [Font-Awesme](http://fortawesome.github.io/Font-Awesome/cheatsheet/)

## Mathjax

Refer to [this wonderful post][mathjax]. But the subscript is a hard issue, the solution is a [plugin][subplug]
```
$ npm install hexo-renderer-pandoc --save
```
Here is a test of Mathjax:

1. This means that the matrix ${\Lambda^\mu}_\nu$ must obey
$$g_{\mu\nu} {\Lambda^\mu}_\rho {\Lambda^\nu}_\delta = g_{\rho\delta}.$$

2. $P(X_t|Y_{1:t-1})$.

## Disqus

Refer to [如何使用Disqus評論系統][disqus]. 多说系统很好，自定义程度高，但是很不稳定，综合考虑还是放弃使用多说。

## Favicon

[png2ico][png2ico] is a little tool to make multi-size ico file.


## Change to Mac

### Install Hexo

1. `brew install nvm`, 而后将提示中内容一一完成. 注意并非将提示复制粘贴在bash中，比如有些是要粘贴在`bash_profile`中的；
2. `nvm install <version>`, 安装最新版本或最稳定版本；
3. `npm install -g hexo-cli`;
4. 将之前的hexo的文件拷贝过来，而后在这个hexo文件中 `hexo init`, `npm install`, 再将之前文件中的`_config.yml`和`hello－world`.md覆盖现在的。注意有些插件需要重新安装，而`hexo-renderer-pandoc`是需要先装有`pandoc`的;
5. `brew install pandoc`.
6. 复制之前的`.ssh`文件夹，测试`ssh -T git@gitcafe.com -i ~/.ssh/gitcafe`. 若不成功，则清空旧的，用ssh生成新的然后用旧的覆盖。

## Pandoc

The `markdown` of Pandoc will not work with iframe and etc, we need to edit `/Users/Eden/Documents/Git/hexo/node_modules/hexo-renderer-pandoc/index.js`,
```
var args = [ '-f', 'markdown', '-t', 'html', '--mathjax', '--smart'];
```
changes to
```
var args = [ '-f', 'markdown_strict+footnotes+tex_math_dollars', '-t', 'html', '--mathjax', '--smart'];
```
`markdown_strict` is the basic markdown and `footnotes` etc are its plugins, we can add only what we need. Even after this have been done, we need to include `iframe` in `<p>...</p>`.

----

Hexo 的 Pandoc 的插件不能识别 cabal 安装的 Pandoc，暂时改为用 markdown-it 插件。

## SSH

[Permision denied (publickey)][pdkey]

## 主题推荐

1. [Karl][karl]，支持分段评论。
2. [Joway][joway]
3. [Maupassant](https://github.com/tufu9441/maupassant-hexo)，大道至簡。

## 添加訪問分佈

本來想用[谷歌趨勢分析][googletrend]，無奈訪問量太小不顯示。再者谷歌趨勢分析也可能只顯示[近三十天][googletrend30]的。所以靠譜的方法還是註冊一個[ClusterMap][clustermap]的帳號。

## 遷徙到Coding

Gitcafe被Coding合併了，故遷徙到Coding。

## Swiftype

[據說][swiftypeagain]避免用戶被關需要每週在`Manage domains`頁面`recrawl`一次。

## Upgrade

[目前方法](https://github.com/hexojs/hexo/issues/1689)
```
npm install -g hexo-cli@latest
npm install
```

## 移植到 Notrious

1. 參見[Nitrous在线生成Hexo](http://pyy.io/2014/09/18/Nitrous-Hexo/)。
2. 在本地和 Nitrous 分別設置遠程倉庫地址：`git remote add <rep-name> your-blog-github-url`，`git checkout -b blog`創建新的分支`blog`存放代碼。
3. 要注意`.gitignore`中的內容。本地確定現在是在`blog`的分支，`git add .`，`git commit -m "add all files"`，而後確定有提交的權限，`git push <rep-name> blog` (`-f` force)。
4. 在 Nitrous 端刪除和本地提交衝突的文件，如`rm -rf themes`等文件夾以及`rm .gitignore`等文件。而後`git pull <rep-name> blog` (`-p`好像不好使，所以之前有一步手動刪除了衝突項。)
5. Nitrous 反應還是太慢了，不如本地啊。
6. 如果本地主題是`git clone`來的，則不會被上傳到`blog`，故需要在 Nitrous 端重新下載。不過最好的方法還是刪除本地主題下的`.git`文件，因爲一般主題都自己調過。調過哪裏還都忘了，在 Nitrous 重新調很費事兒。

[karl]:http://yuche.me/introducing-kael-customization/

[noinstall]:http://blog.fens.me/nodejs-enviroment/
[nostart]:http://blog.csdn.net/yuguiyang1990/article/details/39522413
[cssh]:https://gitcafe.com/ranmocy/Help/blob/master/Setup_Git.md
[cgpages]:https://gitcafe.com/GitCafe/Help/wiki/Pages-%E7%9B%B8%E5%85%B3%E5%B8%AE%E5%8A%A9
[usualp]:http://xuanwo.org/2014/08/14/hexo-usual-problem/
[hdocs]:http://hexo.io/docs/
[hthemes]:http://ieden.diandian.com/post/2014-11-24/40064459238
[newphase]:http://blog.xuxinran.me/js/phasebeam.js
[btitle]:http://dmtalen.com/2014/03/15/post/
[addrss]:http://zipperary.com/2013/06/02/hexo-guide-5/
[dlpost]:http://ibruce.info/2013/11/22/hexo-your-blog/
[imagebed]:https://portal.qiniu.com/
[crgradient]:http://www.w3school.com.cn/jsref/met_canvasrenderingcontext2d_createradialgradient.asp
[mathjax]:http://nirdonkey.com/hexo-mathjax.orz
[subplug]:https://github.com/wzpan/hexo-renderer-pandoc
[cbeam]:http://zespia.tw/blog/2012/12/07/hexo-theme-phase/
[psonline]:http://www.uupoop.com/ps/
[lazy]:http://www.lanrentuku.com/bg/
[bgenerate]:http://bg.siteorigin.com/
[disqus]:http://mutant.logdown.com/posts/168324-how-to-use-disqus-comment-system
[deploygit]:http://www.cnblogs.com/liulangmao/p/4323064.html
[nexttheme]:https://github.com/iissnan/hexo-theme-next
[png2ico]:http://www.winterdrache.de/freeware/png2ico/index.html
[pdkey]:http://www.mr-wu.cn/ssh-permission-denied-publickey/
[googletrend]: https://www.google.com.hk/trends/explore#q=wikipedia.org
[googletrend30]: https://sites.google.com/a/mail.shu.edu.tw/wow/shi-xin-google-zhi-shi-ku/google-sou-suo-gong-ju-lie/cao-zuo-shuo-ming-google-trends-for-website-wang-zhan-liu-liang-fen-xi
[clustermap]: http://www.clustrmaps.com/
[swiftypeagain]: https://www.v2ex.com/t/273792
[joway]: https://joway.wang/archives/
